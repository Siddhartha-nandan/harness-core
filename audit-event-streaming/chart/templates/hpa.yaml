# Cannot use hpa because it supports only 1 replica
# {{- if .Values.autoscaling.enabled }}
# apiVersion: {{ include "harnesscommon.capabilities.hpa.apiVersion" ( dict "context" $ ) }}
# kind: HorizontalPodAutoscaler
# metadata:
#   name: audit-event-streaming
#   namespace: {{ .Release.Namespace }}
#   labels:
#     {{- include "audit-event-streaming.labels" . | nindent 4 }}
#     {{- if .Values.global.commonLabels }}
#     {{- include "harnesscommon.tplvalues.render" ( dict "value" .Values.global.commonLabels "context" $ ) | nindent 4 }}
#     {{- end }}
#   {{- if .Values.global.commonAnnotations }}
#   annotations: {{- include "harnesscommon.tplvalues.render" ( dict "value" .Values.global.commonAnnotations "context" $ ) | nindent 4 }}
#   {{- end }}
# spec:
#   scaleTargetRef:
#     apiVersion: apps/v1
#     kind: Deployment
#     name: audit-event-streaming
#   minReplicas: {{ .Values.autoscaling.minReplicas }}
#   maxReplicas: {{ .Values.autoscaling.maxReplicas }}
#   {{ include "harnesscommon.hpa.metrics.apiVersion" . }}
# {{- end }}
